tosca_definitions_version: tosca_simple_yaml_1_0_0_wd03

template_name: Janus-plugin-slurm-if-types
template_author: Alien 4 Cloud
template_version: 1.0.0

description: "Defines resources for the Janus plugin, slurm configuration."

imports:
  - tosca-normative-types:1.0.0-ALIEN12

node_types:
  janus.nodes.slurm.Compute:
    derived_from: tosca.nodes.Compute
    properties:
      imageId:
        type: string
        required: true
      flavorId:
        type: string
        required: true
      gpuType:
        type: string
        required: false
      user:
        type: string
        description: >
          The user name used to connect to the Compute and provision it.
        required: true
  janus.nodes.slurm.BlockStorage:
    derived_from: tosca.nodes.BlockStorage
  janus.nodes.slurm.Network:
    derived_from: tosca.nodes.Network
  janus.nodes.slurm.Job:
    derived_from: tosca.nodes.Compute
    properties:
      modelPath:
        type: string
        required: true
      modelFile:
        type: string
        required: true
      imgPath:
        type: string
        required: true
      nbNode:
        type: string
        required: false
      nodesName:
        type: string
        required: false
      nbMpiProcess:
        type: string
        required: false